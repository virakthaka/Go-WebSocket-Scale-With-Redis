<!DOCTYPE html>
<html>
<body>
  <h3>WebSocket Test</h3>
  <input id="msgInput" placeholder="Type a message..." />
  <button onclick="sendMsg()">Send</button>
  <pre id="log"></pre>

  <script>
    const ws = new WebSocket("ws://localhost:8080/ws");

    ws.onopen = () => log("Connected to WebSocket server");
    ws.onmessage = (event) => log("Received: " + event.data);
    ws.onclose = () => log("Disconnected");

    function sendMsg() {
      const msg = document.getElementById("msgInput").value;
      const payload = JSON.stringify({ sender: "Blob", content: msg });
      ws.send(payload);
      log("Sent: " + msg);
    }

    function log(msg) {
      document.getElementById("log").textContent += msg + "\n";
    }
  </script>
</body>
</html>
